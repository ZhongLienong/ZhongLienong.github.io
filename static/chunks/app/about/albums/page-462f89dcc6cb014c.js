(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{1427:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var l=i(5155),s=i(2115);function a(e){let{albums:t,onFilterChange:i}=e,[a,o]=(0,s.useState)([]),[r,d]=(0,s.useState)(null),n=t.flatMap(e=>e.tags.map(e=>["Live","Studio"].includes(e)?{name:e,type:"type"}:e.endsWith("s")&&5===e.length&&!isNaN(Number(e.slice(0,4)))?{name:e,type:"decade"}:{name:e,type:"artist"})),p={Artist:[...new Set(n.filter(e=>"artist"===e.type).map(e=>e.name))].sort((e,t)=>e.localeCompare(t)),Decade:[...new Set(n.filter(e=>"decade"===e.type).map(e=>e.name))].sort((e,t)=>e.localeCompare(t)),Type:[...new Set(n.filter(e=>"type"===e.type).map(e=>e.name))]},c=(e,t)=>{if(!n.find(t=>t.name===e))return;let l=[...a];l=l.filter(e=>{let i=n.find(t=>t.name===e);return(null==i?void 0:i.type)!==t}),a.includes(e)||(l=[...l,e]),o(l),i(l),d(null)},u=e=>{d(r===e?null:e)};return(0,l.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"20px",padding:"15px",backgroundColor:"#222",borderRadius:"8px"},children:Object.entries(p).map(e=>{let[t,i]=e;return(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsxs)("button",{onClick:()=>u(t),style:{backgroundColor:"#333",color:"white",border:"none",padding:"8px 16px",borderRadius:"20px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[t,(0,l.jsx)("span",{style:{fontSize:"12px"},children:"▼"})]}),r===t&&(0,l.jsx)("div",{style:{position:"absolute",top:"100%",left:"0",backgroundColor:"#333",borderRadius:"8px",padding:"8px",zIndex:"100",minWidth:"150px",maxHeight:"300px",overflowY:"auto",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",scrollbarWidth:"thin",scrollbarColor:"#6a4a8c #333","::-webkit-scrollbar":{width:"8px"},"::-webkit-scrollbar-track":{background:"#333"},"::-webkit-scrollbar-thumb":{backgroundColor:"#6a4a8c",borderRadius:"4px"}},children:i.map(e=>(0,l.jsx)("div",{onClick:()=>{var t;let i=(null==(t=n.find(t=>t.name===e))?void 0:t.type)||"artist";c(e,i)},style:{padding:"6px 12px",borderRadius:"4px",cursor:"pointer",backgroundColor:a.includes(e)?"#6a4a8c":"transparent",color:"white",margin:"2px 0"},children:e},e))})]},t)})})}function o(e){let{spotifyId:t}=e;return(0,l.jsx)("div",{children:(0,l.jsx)("iframe",{src:"https://open.spotify.com/embed/album/".concat(t,"?utm_source=generator"),width:"100%",height:"352",frameBorder:"0",allowFullScreen:!0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})})}let r=JSON.parse('[{"id":"1","title":"Pulse","tags":["Pink Floyd","1990s","Live"],"spotifyId":"7iLuEbxvxepyHp4yfVfiut"},{"id":"2","title":"The Dark Side of The Moon","tags":["Pink Floyd","1970s","Studio"],"comment":"MY ALL TIME FAV","spotifyId":"4LH4d3cOWNNsVw41Gqt2kv"},{"id":"3","title":"Alchemy: Dire Straits Live","tags":["Dire Straits","1980s","Live"],"spotifyId":"7JLiApdEm6DhYEdK3cop0v"},{"id":"4","title":"How the West Was Won","tags":["Led Zeppelin","1970s","Live"],"spotifyId":"3otvl9PN3kOgk5uwAh1CBL"},{"id":"5","title":"The Definitive 24 Nights","tags":["Eric Clapton","1990s","Live"],"spotifyId":"7uLDovmFB97bee1kDTtCNl"},{"id":"6","title":"Syracuse Live 1985","tags":["Prince","1980s","Live"],"spotifyId":"4Y8oukfqpJupRcCsHucO7J"},{"id":"7","title":"Wildflowers","tags":["Tom Petty","1990s","Studio"],"spotifyId":"3ZGUBwDiY5HPOcWv4SBPQg"},{"id":"8","title":"Meddle","tags":["Pink Floyd","1970s","Studio"],"spotifyId":"468ZwCchVtzEbt9BHmXopb"},{"id":"9","title":"Live at the Fillmore","tags":["Tom Petty","1990s","Live"],"spotifyId":"1XtnMkxeV9wdELLvBZxktL"},{"id":"10","title":"Ok Computer","tags":["Radiohead","1990s","Studio"],"spotifyId":"6dVIqQ8qmQ5GBnJ9shOYGE"},{"id":"11","title":"Live Aid","tags":["Various Artists","1980s","Live"],"comment":"Where is Led Zeppelin?","spotifyId":"0kenHkk55M5xQXbEqlFoOT"},{"id":"12","title":"教育","tags":["東京事変","2000s","Studio"],"spotifyId":"0WhNxc2V5kYKaPevYHVT5v"}]');function d(){let[e,t]=(0,s.useState)([]),[i,d]=(0,s.useState)([]),[n,p]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{d(r)}catch(e){u("Failed to load albums: ".concat(e instanceof Error?e.message:String(e))),console.error(e)}finally{p(!1)}})()},[]);let x=0===e.length?i:i.filter(t=>e.every(e=>t.tags.includes(e)));return(0,l.jsxs)("div",{className:"section",children:[(0,l.jsx)("h2",{className:"bg-purple",children:"Now this is a CD wall"}),(0,l.jsxs)("div",{style:{padding:"20px"},children:[n?(0,l.jsx)("div",{children:"Loading albums..."}):c?(0,l.jsx)("div",{style:{color:"red"},children:c}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a,{albums:i,onFilterChange:t}),0===x.length&&(0,l.jsx)("div",{style:{marginTop:"20px",color:"#ccc"},children:"No albums match the selected filters"})]}),(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",marginTop:"20px",maxHeight:"1100px",overflowY:"auto",paddingRight:"10px"},children:x.map(e=>(0,l.jsxs)("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"8px",padding:"15px",color:"white"},children:[(0,l.jsxs)("h3",{style:{marginBottom:"15px",position:"relative",display:"inline-block",cursor:e.comment?"help":"default"},onMouseEnter:t=>{if(e.comment){let e=t.currentTarget.querySelector("span");e&&(e.style.visibility="visible",e.style.opacity="1",e.style.top="100%",e.style.bottom="auto",e.style.marginTop="5px")}},onMouseLeave:t=>{if(e.comment){let e=t.currentTarget.querySelector("span");e&&(e.style.visibility="hidden",e.style.opacity="0")}},children:[e.title,e.comment&&(0,l.jsx)("span",{style:{visibility:"hidden",opacity:0,width:"200px",backgroundColor:"#333",color:"#fff",textAlign:"center",borderRadius:"6px",padding:"8px",position:"absolute",zIndex:1e3,left:"50%",transform:"translateX(-50%)",transition:"all 0.3s ease",fontStyle:"normal",boxShadow:"0 4px 8px rgba(0,0,0,0.3)"},children:e.comment})]}),(0,l.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"15px"},children:e.tags.map(e=>(0,l.jsx)("span",{style:{backgroundColor:"#6a4a8c",padding:"4px 8px",borderRadius:"12px",fontSize:"12px"},children:e},e))}),(0,l.jsx)(o,{spotifyId:e.spotifyId})]},e.id))})]})]})}},8196:(e,t,i)=>{Promise.resolve().then(i.bind(i,1427))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(8196)),_N_E=e.O()}]);